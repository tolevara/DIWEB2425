<!--EJERCICIO_05_EXAMEN2022.html-->
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen JS 2022</title>

    <script>  //AQUÍ ES DÓNDE SE DEFINE LAS CLASES, ARRIBA DEL TODO!!//

        class Coche {       //ATRIBUTOS//
            modelo = "";
            bateria = 0;
            velocidad = 0;

            constructor(modelo) {  //CONSTRUCTOR//
                this.modelo = modelo;
                this.bateria = 40;
                this.velocidad = 0;
            }  
            
            acelerar(velocidad) {  //MÉTODOS//
                this.velocidad = this.velocidad + velocidad;
                if(velocidad > 10 && velocidad < 30 ) {
                    this.bateria = this.bateria * 0.99; //ESTO ES PORCENTAJE AL -1%//
                }
                if(velocidad >= 30 && velocidad < 50 ) {
                    this.bateria = this.bateria * 0.98; //ESTO ES PORCENTAJE AL -2%//
                }
            }

            frenar(velocidad) {
                this.velocidad = this.velocidad - velocidad;
                if(velocidad >= 10 && velocidad < 30 ) {
                    this.bateria = this.bateria * 1.005; //ESTO ES PORCENTAJE AL +0.5%//
                }
                if(velocidad >= 30 && velocidad < 50 ) {
                    this.bateria = this.bateria * 1.01; //ESTO ES PORCENTAJE AL +1%//
                }
            }
        }



        function nomina() {
            let anual = parseFloat(prompt("Dame sueldo anual:"));
            let mensual = anual / 12;

            //EN FUNCION DEL BRUTO, DEFINO EL PORCENTAJE irpf//
            let irpf = 0;
            if (anual > 10000 && anual < 20000) {  //EN INTERVALOS SIEMPRE SE PONE "AND" (&&)//
                irpf = 15;
            } else if (anual >= 20000 && anual < 30000) {
                irpf = 25;
            } else if (anual >= 30000 && anual <= 40000) {
                irpf = 35;
            }
            let neto = mensual - (irpf * mensual / 100) - (mensual * 0.064);
            return neto;
        }

        function crearcoche() {
            let miKona = new Coche("Hyundai Kona");
            alert (JSON.stringify(miKona, null, 2));
            miKona.acelerar(35);
            alert (JSON.stringify(miKona, null, 2));
            miKona.frenar(20);
            alert (JSON.stringify(miKona, null, 2));
        }

        function ec2grado(a, b, c) { //EJEMPLO: X² -5X +6 = 0 -> X1=2 Y X2=3// //RAIZ CUADRADA: Math.sqrt()//
            let x1 = 0;
            let x2 = 0;

            let discriminante = (b*b) - (4*a*c); //EL DISCRIMINANTE TIENE QUE SER POSITIVO POR SER UNA RAÍZ CUADRADA//  
            if(discriminante<0) {
                alert("No hay solución");
            }  else {
                x1 = (-b + Math.sqrt(discriminante)) / (2*a);
                x2 = (-b - Math.sqrt(discriminante)) / (2*a);
                alert(x1);
                alert(x2);
            }              
        }

        function menu() {
            let cadena = `\t 1. Nómina <h1>> 
         2. Coche   
         3. Ec2Grado   
         4. Tabla  Multiplicar
         5. Salir
         Elije opción:`;

            let opcion = 0;
            while (opcion < 5) {
                opcion = parseInt(prompt(cadena));

                switch (opcion) {
                    case 1: alert(nomina()); break;
                    case 2: crearcoche(); break;
                    case 3: ec2grado(a, b, c); break;
                    let a = parseInt(prompt("Dame A:"));
                    let b = parseInt(prompt("Dame B:"));
                    let c = parseInt(prompt("Dame C:"));
                    case 4: tablasMultiplicar(x, y); break;
                    default: alert("Fin ")
                        break;
                }
            }
        }
    </script>
</head>

<body>
    <button type="submit" onclick="menu()">Menu</button>
</body>

</html>